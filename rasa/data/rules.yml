version: "2.0"

rules:
- rule: activate drugs form
  steps:
    - intent: request_drug
    - action: drugs_form
    - active_loop: drugs_form

- rule: submit drugs form
  condition:
  - active_loop: drugs_form
  steps:
    - action: drugs_form 
    - active_loop: null 
    - action: utter_submit_drug
    - action: utter_slots_values_drug

- rule: activate labs form
  steps:
    - intent: request_lab
    - action: labs_form
    - active_loop: labs_form

- rule: submit labs form
  condition:
  - active_loop: labs_form
  steps:
    - action: labs_form 
    - active_loop: null 
    - action: utter_submit_lab
    - action: utter_slots_values_lab

- rule: get drugs usage
  steps:
    - intent: usage_drug
    - action: utter_usage_drug

- rule: get drugs dosage
  steps:
    - intent: dosage_drug
    - action: data_frame_retrieve

- rule: get drugs interaction
  steps:
    - intent: interaction_drug
    - action: utter_interaction_drug

- rule: get drugs what-to-avoid
  steps:
    - intent: avoid_drug
    - action: utter_avoid_drug

- rule: get drugs side-effects
  steps:
    - intent: sideeffects_drug
    - action: utter_sideeffects_drug

- rule: get drugs warnings
  steps:
    - intent: warnings_drug
    - action: utter_warnings_drug

- rule: get labs details
  steps:
    - intent: detail_lab
    - action: utter_detail_lab

- rule: get during labs details
  steps:
    - intent: during_lab
    - action: utter_during_lab

- rule: get why do I need labs details
  steps:
    - intent: need_lab
    - action: utter_need_lab

- rule: get labs preparation details
  steps:
    - intent: prepare_lab
    - action: utter_prepare_lab

- rule: get labs result meaning details
  steps:
    - intent: result_lab
    - action: utter_result_lab

- rule: get labs risk meaning details
  steps:
    - intent: risk_lab
    - action: utter_risk_lab

- rule: get labs usage
  steps:
    - intent: usage_lab
    - action: utter_usage_lab

- rule: Say hi anytime the user says hi 
  steps:
    - intent: greet 
    - action: utter_greet

- rule: Say goodbye anytime the user says goodbye
  steps:
    - intent: goodbye
    - action: utter_goodbye

- rule: Say 'I am a bot' anytime the user challenges
  steps:
    - intent: bot_challenge
    - action: utter_iamabot
